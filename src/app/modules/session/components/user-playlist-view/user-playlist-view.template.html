<section class="column">
  <form (submit)="save()">
    <app-view-header>
      <div *ngIf="isInEditMode"
           class="title edit-mode form-inline">
        <app-toggle-switch [(value)]="playlist.attributes.isPublic"></app-toggle-switch>
        <div class="form-group">
          <input type="text"
                 name="playlistName"
                 class="form-control"
                 id="playlistName"
                 placeholder="Playlist Name"
                 [(ngModel)]="playlist.attributes.title"
                 required
                 appFocusInput>
        </div>
        <div class="button-group">
          <input type="button" class="btn btn-danger" (click)="cancel()" value="Cancel"/>
          <input type="submit" class="btn btn-success" value="Save"/>
        </div>
      </div>

      <div *ngIf="!isInEditMode" class="title">
        <app-play-list-icon [playlist]="playlist"></app-play-list-icon>
        <span class="text">{{playlist.get('title')}}</span>
        <div class="button-group">
          <button class="btn btn-default" (click)="isInEditMode = true">
            <i class="fa fa-pencil" aria-hidden="true"></i>
          </button>
          <button class="btn btn-default btn-danger" (click)="destroy()">
            <i class="fa fa-trash-o" aria-hidden="true"></i>
          </button>
        </div>
      </div>

    </app-view-header>
  </form>

  <app-scroll-view>
    <app-track-list [tracks]="playlist.get('tracks')" [canBeDeleted]="true"></app-track-list>
  </app-scroll-view>
</section>
